import{a as k,r as t,j as e}from"./index-CdXiO3_I.js";const N=()=>({baseURL:"http://localhost:3000",userList:"/userList"});function j(){const a=N();return{postUserData:async o=>{try{const l=await k.post(a+a.userList,o);return console.log(l.data),l.data}catch(l){console.log(l)}}}}const P={name:"",email:"",phoneNo:0,password:"",confirmPassword:""},E={name:"",email:"",phoneNo:"",password:"",confirmPassword:""};function C(){const[a,i]=t.useState(P),[o,l]=t.useState(E),[n,x]=t.useState(!1),[b,p]=t.useState(!1),[d,h]=t.useState(!1),[c,y]=t.useState(""),w=r=>{r.preventDefault();const s=m(a);console.log(s),l(s),h(!0),Object.values(s).some(f=>f!=="")?alert("Please check all The fields"):(console.log(a),j().postUserData(JSON.stringify(a)),p(!0))},u=r=>{r.preventDefault(),x(!0),m(a),console.log(a);const{name:s,value:g}=r.target;y(r.target.name),i({...a,[s]:g})},m=t.useCallback(r=>{const s={name:"",email:"",phoneNo:"",password:"",confirmPassword:""};return r.name?r.name.length<4?s.name="Name should Have atlease 4 letters":s.name="":s.name="Name should not be empty",r.email?/^[^\s@]+(\.[^\s@]+)*@[^\s@]+\.[^\s@]+$/.test(r.email)?s.email="":s.email="Please Enter Valid Email ID":s.email="Email should not be empty",r.phoneNo?/^\d{10}$/.test(r.phoneNo.toString())?s.phoneNo="":s.phoneNo="Please Enter Valid Phone Number":s.phoneNo="Phone Number should not be empty",r.password?r.password.length<8&&(s.password="Password must be at least 8 characters long"):s.password="Password is required",r.confirmPassword!==r.password&&(s.confirmPassword="Passwords do not match"),s},[]);return t.useEffect(()=>{if(n||b){const r=m(a);console.log(r),l(r)}},[a,m,n,b]),e.jsx("div",{className:"bg-gray-100 flex items-center justify-center h-screen",children:b?e.jsx("div",{className:"bg-[#E8E8E8] p-6 rounded-lg shadow-lg w-full max-w-md text-center",children:e.jsx("h1",{className:"text-center",children:"Thank you for submitting the form!"})}):e.jsxs("form",{className:"bg-[#E8E8E8] p-6 rounded-lg shadow-lg w-full max-w-md",onSubmit:w,children:[e.jsx("h1",{className:"text-center",children:"Contact Us"}),e.jsx("br",{}),e.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-left",children:"Name : "}),e.jsx("input",{type:"text",name:"name",defaultValue:"",placeholder:"Name",onChange:u,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),n&&c==="name"||d?e.jsx("p",{className:"text-red-500 text-left text-[10px]",children:o.name}):null,e.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-left",children:"Email ID : "}),e.jsx("input",{type:"text",name:"email",defaultValue:"",placeholder:"Email Eg: test@gmail.com",onChange:u,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),n&&c==="email"||d?e.jsx("p",{className:"text-red-500 text-left text-[10px]",children:o.email}):null,e.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-left",children:"Phone Number : "}),e.jsx("input",{type:"text",name:"phoneNo",maxLength:10,defaultValue:"",placeholder:"Phone Number eg: 8888888888",onChange:u,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),n&&c==="phoneNo"||d?e.jsx("p",{className:"text-red-500 text-left text-[10px]",children:o.phoneNo}):null,e.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-left",children:"Password : "}),e.jsx("input",{type:"password",name:"password",defaultValue:"",placeholder:"Password",onChange:u,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),n&&c==="password"||d?e.jsx("p",{className:"text-red-500 text-left text-[10px]",children:o.password}):null,e.jsx("label",{className:"block text-gray-700 font-medium mb-2 text-left",children:"Confirm Password : "}),e.jsx("input",{type:"password",name:"confirmPassword",defaultValue:"",placeholder:"Password",onChange:u,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),n&&c==="confirmPassword"||d?e.jsx("p",{className:"text-red-500 text-left text-[10px]",children:o.confirmPassword}):null,e.jsx("br",{}),e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Submit"}),e.jsx("br",{})]})})}export{C as default};
